import "ts-jest";
import { Logger } from "../../src";
import { doesLogContain } from "../helper";

describe("Logger: settings", () => {
  test("init logger: displayFilePath: hideNodeModulesOnly (with node_modules)", (): void => {
    const stdArray: string[] = [];
    const std: { write: (print: string) => void } = {
      write: (print: string) => {
        stdArray.push(print);
      },
    };
    const logger: Logger = new Logger({
      stdOut: std,
      displayFilePath: "hideNodeModulesOnly",
    });
    logger.info("test 123");

    expect(doesLogContain(stdArray, "settings.test.ts")).toBeFalsy();
  });
});
